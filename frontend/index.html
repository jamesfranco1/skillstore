<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0d0d0d">
  <title>skillstore.md - Skill Directory for AI Agents</title>
  <meta name="description" content="Searchable directory of skills for AI agents. Find, purchase, and download skills. Pay in SOL.">
  
  <link rel="alternate" type="application/json" href="/api/skills.json" title="Skills JSON">
  <link rel="alternate" type="text/markdown" href="/api/skills.md" title="Skills Markdown">
  
  <link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <header class="header">
    <div class="container header-inner">
      <a href="/" class="logo">skillstore.md</a>
      <nav class="nav">
        <a href="#directory">Directory</a>
        <a href="#upload">Upload</a>
        <a href="#my-skills" class="nav-link-auth" data-auth hidden>My Skills</a>
      </nav>
      <button class="wallet-btn" id="walletBtn">
        <span class="wallet-icon"></span>
        <span class="wallet-text">Connect Wallet</span>
      </button>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="hero">
      <div class="container">
        <h1>SKILL DIRECTORY<br>FOR AI AGENTS</h1>
        <p class="hero-sub">Navigate with arrow keys. Press ENTER to select.</p>
      </div>
    </section>

    <!-- Directory Browser -->
    <section class="directory" id="directory">
      <div class="container">
        <div class="browser">
          <!-- Browser Header -->
          <div class="browser-header">
            <div class="browser-title">
              <span class="browser-icon">&#9776;</span>
              SKILL BROWSER
            </div>
            <div class="browser-path" id="browserPath">
              <span class="path-segment path-root">/skills</span>
            </div>
            <div class="browser-search">
              <input type="text" id="searchInput" placeholder="Type to filter..." autocomplete="off">
            </div>
          </div>

          <!-- Browser Content -->
          <div class="browser-content">
            <!-- Tree Navigation -->
            <div class="browser-tree" id="browserTree" tabindex="0">
              <div class="tree-section">
                <div class="tree-header">CATEGORIES</div>
                <div class="tree-item tree-folder" data-category="all" data-index="0">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">All Skills</span>
                  <span class="tree-count" id="countAll">0</span>
                </div>
                <div class="tree-item tree-folder" data-category="security" data-index="1">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">Security</span>
                  <span class="tree-count" id="countSecurity">0</span>
                </div>
                <div class="tree-item tree-folder" data-category="automation" data-index="2">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">Automation</span>
                  <span class="tree-count" id="countAutomation">0</span>
                </div>
                <div class="tree-item tree-folder" data-category="data" data-index="3">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">Data</span>
                  <span class="tree-count" id="countData">0</span>
                </div>
                <div class="tree-item tree-folder" data-category="blockchain" data-index="4">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">Blockchain</span>
                  <span class="tree-count" id="countBlockchain">0</span>
                </div>
                <div class="tree-item tree-folder" data-category="llm" data-index="5">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">LLM</span>
                  <span class="tree-count" id="countLlm">0</span>
                </div>
                <div class="tree-item tree-folder" data-category="devops" data-index="6">
                  <span class="tree-icon">&#9654;</span>
                  <span class="tree-label">DevOps</span>
                  <span class="tree-count" id="countDevops">0</span>
                </div>
              </div>

              <div class="tree-section">
                <div class="tree-header">SORT BY</div>
                <div class="tree-item tree-option" data-sort="newest" data-index="7">
                  <span class="tree-icon">&#9679;</span>
                  <span class="tree-label">Newest</span>
                </div>
                <div class="tree-item tree-option" data-sort="popular" data-index="8">
                  <span class="tree-icon">&#9675;</span>
                  <span class="tree-label">Most Downloaded</span>
                </div>
                <div class="tree-item tree-option" data-sort="price-low" data-index="9">
                  <span class="tree-icon">&#9675;</span>
                  <span class="tree-label">Price: Low</span>
                </div>
                <div class="tree-item tree-option" data-sort="price-high" data-index="10">
                  <span class="tree-icon">&#9675;</span>
                  <span class="tree-label">Price: High</span>
                </div>
              </div>
            </div>

            <!-- Skills List -->
            <div class="browser-list" id="browserList">
              <div class="list-header">
                <span class="list-col list-col-name">NAME</span>
                <span class="list-col list-col-creator">CREATOR</span>
                <span class="list-col list-col-price">PRICE</span>
                <span class="list-col list-col-downloads">DL</span>
              </div>
              <div class="list-items" id="skillsList" tabindex="0">
                <div class="list-loading">Loading...</div>
              </div>
            </div>
          </div>

          <!-- Browser Footer -->
          <div class="browser-footer">
            <div class="browser-stats">
              <span><strong id="statTotal">0</strong> skills</span>
              <span><strong id="statCreators">0</strong> creators</span>
              <span><strong id="statDownloads">0</strong> downloads</span>
            </div>
            <div class="browser-controls">
              <span class="control-hint"><kbd>↑↓</kbd> Navigate</span>
              <span class="control-hint"><kbd>Enter</kbd> Select</span>
              <span class="control-hint"><kbd>Tab</kbd> Switch Panel</span>
              <span class="control-hint"><kbd>/</kbd> Search</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- My Skills (auth required) -->
    <section class="my-skills" id="my-skills" data-auth hidden>
      <div class="container">
        <div class="section-head">
          <h2>MY PURCHASES</h2>
        </div>
        <div class="my-skills-grid" id="mySkillsGrid">
          <div class="empty-state">
            <p>No purchases yet</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Upload -->
    <section class="upload" id="upload">
      <div class="container">
        <div class="section-head">
          <h2>UPLOAD A SKILL</h2>
          <p>Share your expertise and earn SOL</p>
        </div>

        <div class="upload-notice" id="uploadNotice">
          <div class="notice-box">
            <p>Connect wallet to upload skills</p>
            <button class="btn btn-primary" id="uploadConnectBtn">CONNECT PHANTOM</button>
          </div>
        </div>

        <div class="upload-form-container" id="uploadFormContainer" hidden>
          <form class="upload-form" id="uploadForm">
            <div class="form-row">
              <div class="form-group">
                <label>TITLE</label>
                <input type="text" id="skillTitle" required placeholder="LLM Red Teaming">
              </div>
              <div class="form-group form-group-small">
                <label>PRICE (SOL)</label>
                <input type="number" id="skillPrice" required min="0" step="0.01" placeholder="1.5">
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>TAGS</label>
                <input type="text" id="skillTags" required placeholder="security, llm, audit">
              </div>
              <div class="form-group form-group-small">
                <label>CATEGORY</label>
                <select id="skillCategory" required>
                  <option value="">Select...</option>
                  <option value="security">Security</option>
                  <option value="automation">Automation</option>
                  <option value="data">Data</option>
                  <option value="blockchain">Blockchain</option>
                  <option value="llm">LLM</option>
                  <option value="devops">DevOps</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label>DESCRIPTION</label>
              <textarea id="skillDesc" rows="2" placeholder="Brief description..."></textarea>
            </div>

            <div class="form-group">
              <label>CONTENT (MARKDOWN)</label>
              <textarea id="skillContent" rows="10" required placeholder="# Your Skill&#10;&#10;Write content here..."></textarea>
            </div>

            <button type="submit" class="btn btn-primary btn-large" id="uploadBtn">UPLOAD SKILL</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <!-- Skill Modal -->
  <div class="modal" id="skillModal" hidden>
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <button class="modal-close" id="modalClose">X</button>
      
      <div class="modal-header">
        <div class="modal-tags" id="modalTags"></div>
        <span class="skill-price" id="modalPrice"></span>
      </div>
      
      <h2 id="modalTitle"></h2>
      <p class="modal-desc" id="modalDesc"></p>
      
      <div class="modal-meta">
        <div class="meta-item">
          <span class="meta-label">CREATOR</span>
          <span class="meta-value" id="modalCreator"></span>
        </div>
        <div class="meta-item">
          <span class="meta-label">DOWNLOADS</span>
          <span class="meta-value" id="modalDownloads"></span>
        </div>
        <div class="meta-item">
          <span class="meta-label">ADDED</span>
          <span class="meta-value" id="modalDate"></span>
        </div>
      </div>

      <div class="modal-actions">
        <button class="btn btn-primary btn-large" id="modalPurchaseBtn">PURCHASE</button>
        <button class="btn btn-success btn-large" id="modalDownloadBtn" hidden>DOWNLOAD</button>
      </div>
      
      <div class="modal-status" id="modalStatus" hidden></div>
    </div>
  </div>

  <footer class="footer">
    <div class="container footer-inner">
      <span class="footer-logo">skillstore.md</span>
      <div class="footer-links">
        <a href="/api/skills.json">API</a>
        <a href="https://github.com/jamesfranco1/skillstore">GitHub</a>
      </div>
    </div>
  </footer>

  <script src="/js/api.js"></script>
  <script src="/js/wallet.js"></script>
  <script src="/js/solana.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
